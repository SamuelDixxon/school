# -*- coding: utf-8 -*-
"""
Created on Sat Jan  4 04:08:43 2020

@author: Samuel Dixon
"""
from time import ctime as ctime
from collections import OrderedDict
import requests
from bs4 import BeautifulSoup




my_stocks = ('amd', 'NFLX', 'PZZA')
stock_vals = []

def parsePrice():
    d = OrderedDict()
    
    for i in range(3):
        
        r=requests.get('https://finance.yahoo.com/quote/' + my_stocks[i])
        soup=BeautifulSoup(r.text,'lxml')
        
        count = 0
        
        if int(ctime()[11:13]) < 22 and count != 3 : # time domain to only record data when stock market is trading
            price=soup.find_all('div',{'class':'My(6px) Pos(r) smartphone_Mt(6px)'})[0].find('span').text
            d[my_stocks[i]] = price
            count += 1
        
    return d
        
        
        
def ContinuousRun():
    while True:
        return parsePrice()
    
print(ContinuousRun())
